[gd_scene load_steps=16 format=3 uid="uid://b1aosu42tvpdh"]

[ext_resource type="Script" uid="uid://b87jggvw4whfb" path="res://scriptsnscenes/main/main.gd" id="1_j6fwf"]
[ext_resource type="Shader" uid="uid://t8wpynl8ecsf" path="res://shaders/crt.gdshader" id="3_uh2b8"]
[ext_resource type="Material" uid="uid://k830epaorhv" path="res://assets/textures/Wood066_1K-JPG/Wood066_1K-JPG.tres" id="4_uh2b8"]
[ext_resource type="PackedScene" uid="uid://y8wwyc5wty76" path="res://scriptsnscenes/framework/framework_13.tscn" id="5_pme2s"]
[ext_resource type="PackedScene" uid="uid://c6n5v4142jrmg" path="res://assets/models/desk_lamp_low_poly/lamp_low_poly.tscn" id="5_uu8of"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_kxkkf"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_uh2b8"]
sky_material = SubResource("ProceduralSkyMaterial_kxkkf")

[sub_resource type="Environment" id="Environment_uu8of"]
background_mode = 1
background_energy_multiplier = 0.01
sky = SubResource("Sky_uh2b8")
ambient_light_color = Color(1, 1, 1, 1)
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ViewportTexture" id="ViewportTexture_pme2s"]
viewport_path = NodePath("CRTContainer/SubViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_uu8of"]
resource_local_to_scene = true
shader = ExtResource("3_uh2b8")
shader_parameter/tex = SubResource("ViewportTexture_pme2s")
shader_parameter/mask_type = 2
shader_parameter/curve = 0.10000000475
shader_parameter/sharpness = 0.5
shader_parameter/color_offset = -0.5
shader_parameter/mask_brightness = 1.0
shader_parameter/scanline_brightness = 1.0
shader_parameter/min_scanline_thickness = 0.4890000113525
shader_parameter/aspect = 0.75
shader_parameter/wobble_strength = 2.0

[sub_resource type="PlaneMesh" id="PlaneMesh_uu8of"]
lightmap_size_hint = Vector2i(52, 12)
material = ExtResource("4_uh2b8")
size = Vector2(10, 5)
center_offset = Vector3(0, -0.01, 0)

[sub_resource type="Animation" id="Animation_uu8of"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("rot_corner:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1.04205, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("rot_corner:rotation:z")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "position_3d"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CRTContainer/SubViewport/Camera3D")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = PackedFloat32Array(0, 1, 0, 3.9585881, 3.0669127)
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("rot_corner/Framework13/Model/Hinge:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_pme2s"]
resource_name = "cam_pos"
length = 2.0
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CRTContainer/SubViewport/Camera3D")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0.03333334, 1, 0, 3.5360808, 3.1740353, 0.53333336, 1, 0, 1.8470142, 3.431584, 2, 1, 0, 2.1032488, 1.9851563)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CRTContainer/SubViewport/Camera3D")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0.033333335, 1, -0.4491085, 0, 0, 0.89347726, 0.53333336, 1, -0.18246715, 0, 0, 0.98321193, 2, 1, -0.25411245, 0, 0, 0.96717465)

[sub_resource type="Animation" id="Animation_uh2b8"]
resource_name = "slide_in"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("rot_corner:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(-4.63105, -0.25, 0, 0.25, 0, 1.04205, -0.16666663, -0.82116175, 0.20000005, -0.004812479, 1.04205, -0.13332789, -0.017863141, 0.13333333, 0.01786387),
"times": PackedFloat32Array(0, 0.6666666, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("rot_corner:rotation:z")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(2, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(-0.225, -0.25, 0, 0.25, 0, -0.28136542, -0.012011886, 0.056690916, 0.012011886, -0.056690916, -0.39474726, -0.02148211, 0.022676378, 0.02148211, -0.022676378, -0.38340905, -0.019295216, 0.045352727, 0, 0, 0, -0.105914116, 0.00208918, 0, 0, 0, -0.175, 0, 0, 0),
"times": PackedFloat32Array(0, 0.6666666, 0.70000005, 0.7756045, 0.9, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("rot_corner/Framework13/Model/Hinge:rotation:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pme2s"]
_data = {
&"RESET": SubResource("Animation_uu8of"),
&"cam_pos": SubResource("Animation_pme2s"),
&"slide_in": SubResource("Animation_uh2b8")
}

[node name="Main" type="Node3D" node_paths=PackedStringArray("cam", "anim_player")]
script = ExtResource("1_j6fwf")
cam = NodePath("CRTContainer/SubViewport/Camera3D")
anim_player = NodePath("AnimationPlayer")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_uu8of")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="CRTContainer" type="Node" parent="."]

[node name="SubViewport" type="SubViewport" parent="CRTContainer"]
size = Vector2i(288, 162)

[node name="Camera3D" type="Camera3D" parent="CRTContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.87085366, 0.49154234, 0, -0.49154234, 0.87085366, 0, 3.9585881, 3.0669127)
current = true
fov = 30.0

[node name="CRTRect" type="ColorRect" parent="CRTContainer"]
material = SubResource("ShaderMaterial_uu8of")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Table" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_uu8of")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_pme2s")
}

[node name="rot_corner" type="Node3D" parent="."]
transform = Transform3D(0.9999999, 0, 0, 0, 0.9999999, 0, 0, 0, 1, 1.04205, 0, 0)

[node name="Framework13" parent="rot_corner" instance=ExtResource("5_pme2s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.04205, -3.0559022e-10, -3.0559022e-10)

[node name="LampLowPoly" parent="." instance=ExtResource("5_uu8of")]
transform = Transform3D(0.0045429263, -0.049793184, -2.1765294e-09, 7.256543e-17, -2.1855693e-09, 0.049999997, -0.049793184, -0.0045429263, -1.9857777e-10, -3.6095743, 0, -0.4518497)

[node name="SpotLight3D2" type="SpotLight3D" parent="LampLowPoly"]
transform = Transform3D(1, 0, 0, 0, 0.7594871, 0.65052235, 0, -0.65052235, 0.7594871, 0.058894157, -15.402547, 29.548502)
light_color = Color(0.8868717, 0.86164945, 0.67333513, 1)
light_energy = 0.5
spot_range = 6.248
spot_angle = 50.89
spot_angle_attenuation = 2.143545
